---
title: "R Notebook"
output: html_notebook
---


### Installation von Python und der für TensorFlow benötigten Pakete (nur einmalig nötig) ###

```{r}
install.packages("reticulate")
library(reticulate)

# Check if conda is installed, if not, install miniconda
if (!conda_exists()) {
  install_miniconda()
}

# Create a specific Python environment if it doesn't exist
if (!condaenv_exists("r-reticulate")) {
  conda_create("r-reticulate", python_version = "3.8")
}

# Install required packages in the created environment
required_packages <- c("pandas", "numpy", "tensorflow", "h5py")
installed_packages <- conda_list("r-reticulate")$name

for (pkg in required_packages) {
  if (!(pkg %in% installed_packages)) {
    conda_install("r-reticulate", pkg)
  }
}

# Use the created Python environment
use_condaenv("r-reticulate", required = TRUE)
```



### Potentielle Alterbative für Windows ###
#### Nur ausführen, wenn die Variante oben fehl schlägt. ####
```{r}
install.packages("reticulate")
library(reticulate)

# Check if conda is installed, if not, install miniconda
if (!conda_exists()) {
  install_miniconda()
}

# Set custom path for the conda environment
custom_path <- "C:/conda_envs" # Change this path as needed

# Create a specific Python environment if it doesn't exist
if (!condaenv_exists("r-reticulate", condaenvs_dir = custom_path)) {
  conda_create("r-reticulate", python_version = "3.8", condaenvs_dir = custom_path)
}

# Install required packages in the created environment
required_packages <- c("pandas", "numpy", "tensorflow", "h5py")
installed_packages <- conda_list("r-reticulate", condaenvs_dir = custom_path)$name

for (pkg in required_packages) {
  if (!(pkg %in% installed_packages)) {
    conda_install("r-reticulate", pkg, condaenvs_dir = custom_path)
  }
}

# Use the created Python environment
use_condaenv("r-reticulate", condaenvs_dir = custom_path, required = TRUE)

```



```{python}
import sys
import tensorflow

print("Python Version:     " + sys.version+"\nTensorFlow Version: "+tensorflow.__version__)

```

```{r}
# Import Libraries
library(reticulate)


# Importing Data
data <- mtcars

```


```{python}
mpg = r.data['mpg']

```


```{r}
table(py$mpg)

```

